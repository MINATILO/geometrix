# Geometrix test Jamfile
#
# Copyright (C) 2013, Brandon Kohn
#
# Distributed under the Boost Software License, Version 1.0. (See
# accompanying file LICENSE_1_0.txt or copy at
# http://www.boost.org/LICENSE_1_0.txt)
#
import testing ;

#use-project boost : f:/Projects/boost_git/modular-boost ;

project geometrix_unit_tests
    :
    requirements
       <include>../
       <include>./googletest/googletest/include/gtest
       <include>./googletest/googlemock/include/gmock
       <library>gtest
       <toolset>msvc:<define>_SCL_SECURE_NO_DEPRECATE
       <toolset>msvc:<define>_SCL_SECURE_NO_WARNINGS
       <define>BOOST_RESULT_OF_USE_TR1_WITH_DECLTYPE_FALLBACK
       <toolset>gcc:<cxxflags>-ftemplate-depth-1024
       <toolset>clang:<cxxflags>-ftemplate-depth-1024
       <toolset>gcc:<cxxflags>-std=c++11
       <toolset>clang:<cxxflags>-std=c++11
       <link>static
#       <define>GEOMETRIX_DONT_USE_PREPROCESSED_FILES
    ;

  test-suite "geometrix" :
     [ run as_tests.cpp ]
     [ run sorting_tests.cpp ]
     [ run product_tests.cpp ]
     [ run point_tests.cpp ]
     [ run matrix_traits_test.cpp ]
     [ run lup_decomposition_test.cpp ]
     [ run segment_intersection_tests.cpp ]
     [ run point_example.cpp ]
     [ run tensor_tests.cpp ]
     [ run utility_tests.cpp ]
     [ run tolerance_comparison_tests.cpp ]
     [ run transform_tests.cpp ]
     [ run intersection_tests.cpp ]
     [ run distance_tests.cpp ]
     [ run proto_expression_tests.cpp ]
     [ run point_sequence_tests.cpp ]
     [ run reference_frame_tests.cpp ]
     [ run vector_point_arithmetic_tests.cpp ]
     [ run grid_tests.cpp ]
     [ run mesh_2d_tests.cpp ]   
     [ run units_tests.cpp ]
     [ run tagged_quantity_tests.cpp ]
  ;

  #test-suite "compile_fail_test" :
  #   [ compile-fail compile_fail/built_in_numeric_cast_traits.cpp ]
  #;
